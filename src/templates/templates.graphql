type Template {
  id: ID!
  name: String!
  description: String
  exercises: [TemplateExercise!]!
  archivedAt: String
  createdAt: String!
  updatedAt: String!
}

type TemplateExercise {
  id: ID!
  exercise: Exercise!
  orderPosition: Int!
  sets: [TemplateExerciseSet!]!
  createdAt: String!
}

type TemplateExerciseSet {
  setNumber: Int!
  variables: [TemplateExerciseSetVariable!]!
}

type TemplateExerciseSetVariable {
  variable: ExerciseVariable!
  targetValue: String
}

type TemplateEdge {
  cursor: String!
  node: Template!
}

type TemplateConnection {
  edges: [TemplateEdge!]!
  pageInfo: PageInfo!
}

input CreateTemplateInput {
  name: String!
  description: String
  exercises: [TemplateExerciseInput!]!
}

input TemplateExerciseInput {
  exerciseId: ID!
  orderPosition: Int!
  sets: [TemplateExerciseSetInput!]!
}

input TemplateExerciseSetInput {
  setNumber: Int!
  variables: [TemplateExerciseSetVariableInput!]!
}

input TemplateExerciseSetVariableInput {
  variableId: ID!
  targetValue: String
}

input UpdateTemplateInput {
  id: String!
  name: String!
  description: String
  exercises: [TemplateExerciseInput!]!
}

extend type Query {
  templates(
    first: Int = 10
    after: String
    searchTerm: String
  ): TemplateConnection!
}

extend type Mutation {
  createTemplate(input: CreateTemplateInput!): Template!
  updateTemplate(input: UpdateTemplateInput!): Template!
  deleteTemplate(id: String!): ID
}
